<section class="top-content">
  <div class="width-controller container-fluid">
    <div class="row-fluid">
      <div class="span12">
        <h2>Browse Channels</h2>
        <h3>See what's popular, when, and where</h3>
      </div>
    </div><!-- /.row-fluid -->
  </div><!-- /.container-fluid -->
</section><!-- /.top-content -->
<div class="main" role="main">
  <div class="width-controller container-fluid">
    <section class="mid-content">
      <div class="row-fluid">
        <div class="tabs">
          <ul class="inline unstyled">
            <li ng-class="{active: vm.by == 'latest'}">
              <a href="#" ng-click="vm.filter('latest')">
                <span class="fa fa-clock-o"></span>
                <span class="line-text">Latest</span>
              </a>
            </li>
            <li ng-class="{active: vm.by == 'nearby'}">
              <a href="#" ng-click="vm.filter('nearby')">
                <span class="fa fa-map-marker"></span>
                <span class="line-text">Nearby</span>
              </a>
            </li>
            <li ng-class="{active: vm.by == 'popular'}">
              <a href="#" ng-click="vm.filter('popular')">
                <span class="fa fa-thumbs-o-up"></span>
                <span class="line-text">Popular</span>
              </a>
            </li>
          </ul>
        </div><!-- /.tabs -->
      </div><!-- /.row-fluid -->
    </section><!-- /.mid-content -->
    <section class="lower-content">
      <div class="tab-content results-channels" infinite-scroll="vm.channels.getNextPage()" infinite-scroll-disabled="vm.channels.$pending" infinite-scroll-distance="1">
        <div class="tab-pane active">

          <div class="channel-item" ng-repeat="channel in vm.channels">
            <div class="row-fluid">
              <div class="span12">
                <h4><a href="#">#{{channel.name}}</a></h4>
              </div>
            </div><!-- /.row-fluid -->
            <div class="row-fluid">

              <div class="span3 channel-details-wrapper">
                <ul class="channel-details unstyled">
                  <li class="clearfix">
                    <div class="user-avatar pull-left">
                      <rb-avatar user="" class="img-wrap" title=""></rb-avatar>
                    </div>
                    <div>
                      <strong class="block">VJ'd by:</strong>
                      <span>username here</span>
                    </div>
                  </li>
                  <li>
                    <span class="fa fa-clock-o"></span>
                    <span class="line-text" am-time-ago="channel.usedAt"></span>
                  </li>
                  <li>
                    <span class="fa fa-eye"></span>
                    <span class="line-text">{{channel.totalWatches}}</span>
                  </li>
                  <li>
                    <span class="fa fa-video-camera"></span>
                    <span ng-show="channel.streamsCount == 0" class="line-text">
                      No videos available.
                    </span>
                    <span ng-show="channel.streamsCount == 1" class="line-text">
                      video
                    </span>
                    <span ng-hide="channel.streamsCount == 0 || channel.streamsCount == 1" class="line-text">{{channel.streamsCount}} videos</span>
                  </li>
                </ul>
              </div><!-- /.span3 -->

              <div class="module-large span3 hidden-phone" ng-repeat="stream in channel.mostLikedStreams">
                <div class="module-video">
                  <a class="live-stream-link" ui-sref="stream({streamId: stream.id})">
                    <img ng-src="{{stream.thumbs.medium}}"
                         src-fallback="/images/missing.png"/>
                  </a>
                </div><!-- /.module-video -->
                <ul class="unstyled">
                  <li>
                    <span class="fa fa-user"></span>
                    <span class="line-text">Streamed by: {{stream.user.username}}</span>
                  </li>
                  <li>
                    <span class="fa fa-thumbs-o-up"></span>
                    <span class="line-text">{{stream.likes}}</span>
                  </li>
                </ul>
              </div><!-- stream -->

            </div><!-- /.row-fluid -->
          </div><!-- /.channel-item -->

        </div>
      </div><!-- /.tab-content -->
    </section><!-- /.lower-content -->
  </div><!-- /.container-fluid -->
</div><!-- /.main -->
